# 全國補習班資料抓取專案

本專案用於自動化抓取教育部全國短期補習班資訊管理系統的公開資料。

## 專案變更說明 (2026-01-07)

因應來源網站 API 改版，舊有程式碼已移至 `backup/` 目錄。
目前的版本針對新的網頁結構進行重寫，支援直接抓取全台所有補習班列表及其詳細資訊。

## 功能

- 自動抓取全台所有已立案補習班資料
- 自動進入詳細頁面抓取完整資訊（含核准科目、交通車等）
- 自動處理分頁與反爬蟲機制（Session/Cookie 管理）
- 輸出為 CSV 格式 (包含 BOM，可直接用 Excel 開啟)

## 環境需求

- Python 3.x
- 必要套件：
  - requests
  - beautifulsoup4

安裝方式：
```bash
pip install requests beautifulsoup4
```

## 使用方式

執行爬蟲程式：
```bash
python scraper.py
```

## 資料結構與輸出檔案

程式執行後，會產生三個關聯的 CSV 檔案。這三個檔案透過 **「補習班代碼」** 欄位進行關聯（Relational Data）。

### 1. 補習班基本資料 (`schools.csv`)
主表，每一列代表一間補習班。

- **補習班代碼** (Primary Key)
- 縣市、補習班名稱、主管機關文件單位代碼
- 補習班類別/科目
- 班址、電話、傳真號碼、電子郵件
- 立案情形、立案文號、立案日期
- 教室數、飲用水設備維護管理、教室面積、班舍總面積
- 停辦文號、停辦生效日、停辦截止日
- 負責人姓名、設立人姓名、班主任

### 2. 核准科目資料 (`subjects.csv`)
子表（一對多），記錄每間補習班所開設的核准科目。

- **補習班代碼** (Foreign Key，對應 `schools.csv`)
- 核准科目名稱
- 核准班級數
- 每班核准人數
- 每週總節(時)數
- 修業期限
- 招生對象

### 3. 交通車資料 (`vehicles.csv`)
子表（一對多），記錄每間補習班擁有的交通車輛。

- **補習班代碼** (Foreign Key，對應 `schools.csv`)
- 牌照號碼
- 備查文號
- 備查日期

### 關聯示意圖

```text
schools.csv (1)
└── 補習班代碼 ──────┐
                   ├─── subjects.csv (N) : 該補習班開設的多個科目
                   └─── vehicles.csv (N) : 該補習班擁有的多輛交通車
```

## 資料統計摘要 (2026-01-07)

以下數據基於 2026 年 1 月 7 日抓取的資料進行統計。

### 補習班類別統計 (前 10 名)
| 排名 | 類別名稱 | 數量 |
| --- | --- | --- |
| 1 | 文理類 | 12787 |
| 2 | 外語類 | 4835 |
| 3 | 音樂 | 1543 |
| 4 | 舞蹈類 | 1543 |
| 5 | 美術 | 1495 |
| 6 | 書法 | 1495 |
| 7 | 攝影 | 1495 |
| 8 | 美工設計 | 1495 |
| 9 | 圍棋類 | 1495 |
| 10 | 商類：珠算 | 843 |

### 核准科目統計 (前 20 名)
| 排名 | 科目名稱 | 數量 |
| --- | --- | --- |
| 1 | 數學 | 13392 |
| 2 | 英文 | 9898 |
| 3 | 英語 | 3911 |
| 4 | 美語 | 3849 |
| 5 | 自然 | 3580 |
| 6 | 國文 | 3318 |
| 7 | 國語 | 3081 |
| 8 | 社會 | 3063 |
| 9 | 理化 | 2428 |
| 10 | 美術 | 1553 |
| 11 | 作文 | 1144 |
| 12 | 音樂 | 1102 |
| 13 | 文理(數學) | 738 |
| 14 | 自然與生活科技 | 677 |
| 15 | 文理(英文) | 635 |
| 16 | 物理 | 582 |
| 17 | 化學 | 530 |
| 18 | 電腦 | 508 |
| 19 | 珠心算 | 470 |
| 20 | 舞蹈 | 420 |

## 資料來源

- [直轄市及各縣市短期補習班資訊管理系統](https://bsb.kh.edu.tw/)

## 備份

舊版程式與資料位於 `backup/` 目錄中。
